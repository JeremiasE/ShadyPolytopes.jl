# ShadyPolytopes

[![Build Status](https://github.com/JeremiasE/ShadyPolytopes.jl/actions/workflows/ci.yml/badge.svg?branch=main)](https://github.com/JeremiasE/ShadyPolytopes.jl/actions/workflows/ci.yml?query=branch%3Amain)

# Introduction

This repository contains the code accompanying the paper ...
which gives a computer assisted proof that a certain
centrally symmetric convex polytope has a shadiness constant of at least 1.01,
i.e. with respect to the norm defined by this polytope every rank-2 projection has operator norm
at least 1.01. 

# Installation 

This package can be downloaded by calling 

``` shell
git clone https://github.com/JeremiasE/ShadyPolytopes.jl
```

Assuming that Julia is installed (see https://julialang.org/install/), the package can be installed by calling (on the Julia REPL):

``` julia
] add Clarabel, CodecZlib
] dev ./ShadyPolytopes.jl
```

Optionally one can run the tests by calling
``` julia
] activate ShadyPolytopes.jl
] test
```

# Usage

The following commands should be executed in the `ShadyPolytopes.jl` folder.

The proof certificates are generated by calling (on a shell)

``` shell
julia scripts/generate_farkas_certificate_john_position.jl
julia scripts/generate_sos_certificate.jl
```
The latter one can be sped up by calling
``` shell
julia --threads 3 scripts/generate_sos_certificate.jl
```

The precomputed sum-of-squares proof certificate is also contained
in this git repository folder.

The precomputed certificates for the approach using Farkas's lemma 
can be downloaded via (notice that this need `git-lfs`)

``` shell
git lfs pull
```

The proof certificates can be checked via

``` shell
julia scripts/verify_sos_certificate.jl
julia scripts/verify_farkas_certificate_john_position.jl
```


Again, the latter one can be sped up by calling
``` shell
julia scripts/verify_sos_certificate.jl
julia --threads 3 scripts/verify_farkas_certificate_john_position.jl
```

# Structure 

  * `src/` contains the source code of the Julia package ShadyPolytopes
    * `analyze_ball.jl` determine various quantities of norms defined by centrally symmetric convex polytopes
    * `cscp.jl` data type for centrally symmetric convex polytopes
    * `farkas.jl` code to generate and verify a certificate for a lower bound on relative projection constants 
    * `lift_polynomials.jl` mainly conversion between Singular.jl and DynamicPolynomials.jl polytopes
    * `perturbed_icosahedron.jl` constructors for the convex polytopes we are analyzing
    * `rational_sos_certificate.jl` code to convert floating point sos decompositions to rational sos decompositions
    * `rational_sos_decomposition.jl` data type for weighted rational sos decompositions
    * `rounding.jl` code to round floating point polynomials and matrices to their rational counterparts
    * `ShadyPolytopes.jl` main module file
    * `sos_models.jl` construct the basic semialgebraic sets corresponding to the various optimization problems 
  * `script/` julia scripts to compute and verify the proof certificates
  * `test/` tests for the code in `src/`
  * `data/` contains the certificates themselves
  * `notebooks/` contains two Jupyter notebooks in which various
    quantities of the polytope used in the proof are calculated, as well as html exports of them,
    see https://rawcdn.githack.com/JeremiasE/ShadyPolytopes.jl/a1bdd6780ab7c52d5986bd088ca8cba7b7020f7d/notebooks/Analyze_perturbed_icosahedron.html
    and https://rawcdn.githack.com/JeremiasE/ShadyPolytopes.jl/a1bdd6780ab7c52d5986bd088ca8cba7b7020f7d/notebooks/Simple_shadiness_test.html

